{% extends 'base.html' %}
{% block content %}


<h1 class="display-4">User Profile</h1>
<div>

<p class="lead">Welcome back, {{ user.username }}!</p>  <!-- user is a variable that is passed in from the view function -->
<p><strong>Email:</strong> {{ user.email }}</p>
<p><strong>First Name:</strong> {{ user.first_name }}</p>
<p><strong>Last Name:</strong> {{ user.last_name }}</p>

</div>
<h2 class="display-5">Feedback</h2>
{% for fb in feedback %}
<div>
    <h3>{{ fb.title }}</h3>
    <p>{{ fb.content }}</p>
    <a href="{{ url_for('update_feedback', feedback_id=fb.id) }}">Edit</a>
    <form method="POST" action="{{ url_for('delete_feedback', feedback_id=fb.id) }}">
        <button type="submit" onclick="return confirm('Are you sure you want to delete this feedback?')">Delete</button>
    </form>
</div>
{% endfor %}

<a href="{{ url_for('add_feedback', username=user.username) }}">Add Feedback</a>
<form method="POST" action="{{ url_for('delete_user', username=user.username) }}">
    <button type="submit">Delete User</button>
</form>
<a href="/logout">Logout</a>
    
    {% endblock %}  <!-- end of the content block -->
